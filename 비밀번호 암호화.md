# 비밀번호 암호화

(전체적인 구조 및 내용은 [이글](https://d2.naver.com/helloworld/318732) 을 기반으로 요약 및 정리했습니다 )

비밀번호를 암호화할 때 해시 함수를 주로 활요하게 되며 단방향으로 암호화한다.

<br>

### 단방향  해시 함수

비밀번호를 해시 함수를 통해 암호화할 수 있지만 반대로 암호화된 비밀번호를 비밀번호로 복호화할 수 없다. 원본 비밀번호를 알아내기 어렵다.

<br>

### 단방향 해시 함수의 단점

원본 비밀번호를 완전히 알아낼 수 없는 것은 아니다. 엄청나게 많은 비밀번호를 생성해 원본 비밀번호와 같은 해시 함수에 대입하면 알 수 있다면 같은 값으로 암호화되기 때문이다.

<br>

### 단방향 해시 함수를 보완

#### 솔팅

해시 함수를 통한 암호화에 임의의 문자열을 추가하여 다이제스트(해시 함수를 통해 암호화된 비밀번호)를 생성하는 것을 말한다.

솔트는 솔팅에 활용되는 임의의 문자열을 의미한다.

<br>

#### 키 스트레칭

다이제스트를 생성하고, 생성한 다이제스트를 바탕으로 다시 다이제스트를 생성하는 작업을 반복하는 것을 의미한다. 다이제스트를 바탕으로 또 다시 다이제스트를 생성하는 작업에 반복 횟수를 지정하여 다이제스트를 생성하는 시간 자체를 늘린다. 이를 통해 비밀번호를 알아내려는 공격에 더 많은 시간이 소요되게 하여서 비밀번호 탈취 확률을 낮출 수 있다. 또한 반복 횟수와 동일한 횟수로 반복해야만 똑같은 다이제스트 값을 얻을 수 있기에 소요 시간과 더불어 비밀번호 탈취 확률을 낮출 수 있는 방법이다.

<br>

#### Adaptive Key Derivation Functions

솔팅과 키 스트레칭을 수행하기 위해서 직접 구현하기 보다는 검증된 암호화 시스템을 사용할 것을 권장한다.

주요한 Key Derivation Functions 로는

- PBKDF2
- bcrypt
- scrypt

등이 있다.

<br>

참조

https://github.com/nodejs/node/blob/master/doc/api/crypto.md

https://www.daleseo.com/js-dotenv/

https://zinirun.github.io/2020/12/02/node-crypto-password/

https://d2.naver.com/helloworld/318732

https://velog.io/@nameunzz/%EB%8B%A8%EB%B0%A9%ED%96%A5-%ED%95%B4%EC%8B%9C-%ED%95%A8%EC%88%98